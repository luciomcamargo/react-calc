{"ast":null,"code":"'use strict';\n\nfunction factory(type, config, load, typed) {\n  // TODO: expose this function to mathjs, add documentation\n\n  /**\n   * Create a numeric value with a specific type: number, BigNumber, or Fraction\n   *\n   * @param {string | number} value\n   * @param {'number' | 'BigNumber' | 'Fraction'}\n   * @return {number | BigNumber | Fraction} Returns an instance of the\n   *                                         numeric requested type\n   */\n  return function numeric(value, valueType) {\n    if (valueType === 'BigNumber') {\n      return new type.BigNumber(value);\n    } else if (valueType === 'Fraction') {\n      return new type.Fraction(value);\n    } else {\n      // valueType === 'number' or undefined // TODO: check this\n      if (typeof value === 'number') {\n        return value;\n      } else {\n        if (value === 'Infinity') {\n          return Infinity;\n        }\n\n        if (value === 'NaN') {\n          return NaN;\n        } // The following regexp is relatively permissive\n\n\n        if (!/^[-+]?((\\d+\\.?\\d*)|(\\d*\\.?\\d+))([eE][+-]?\\d+)?$/.test(value)) {\n          throw new Error('Invalid numeric value \"' + value + '\"');\n        } // remove leading zeros like '003.2' which are not allowed by JavaScript\n\n\n        return parseFloat(value.replace(/^(0*)[0-9]/, function (match, zeros) {\n          return match.substring(zeros.length);\n        }));\n      }\n    }\n  };\n}\n\nexports.factory = factory;","map":null,"metadata":{},"sourceType":"script"}